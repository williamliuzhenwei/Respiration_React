{"ast":null,"code":"import _classCallCheck from \"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nimport { Base } from \"./base\";\n/**\n * 随机布局\n */\n\nexport var RandomLayout = /*#__PURE__*/function (_Base) {\n  _inherits(RandomLayout, _Base);\n\n  var _super = _createSuper(RandomLayout);\n\n  function RandomLayout(options) {\n    var _this;\n\n    _classCallCheck(this, RandomLayout);\n\n    _this = _super.call(this);\n    /** 布局中心 */\n\n    _this.center = [0, 0];\n    /** 宽度 */\n\n    _this.width = 300;\n    /** 高度 */\n\n    _this.height = 300;\n    _this.nodes = [];\n    _this.edges = [];\n    /** 迭代结束的回调函数 */\n\n    _this.onLayoutEnd = function () {};\n\n    _this.updateCfg(options);\n\n    return _this;\n  }\n\n  _createClass(RandomLayout, [{\n    key: \"getDefaultCfg\",\n    value: function getDefaultCfg() {\n      return {\n        center: [0, 0],\n        width: 300,\n        height: 300\n      };\n    }\n    /**\n     * 执行布局\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var self = this;\n      var nodes = self.nodes;\n      var layoutScale = 0.9;\n      var center = self.center;\n\n      if (!self.width && typeof window !== \"undefined\") {\n        self.width = window.innerWidth;\n      }\n\n      if (!self.height && typeof window !== \"undefined\") {\n        self.height = window.innerHeight;\n      }\n\n      if (nodes) {\n        nodes.forEach(function (node) {\n          node.x = (Math.random() - 0.5) * layoutScale * self.width + center[0];\n          node.y = (Math.random() - 0.5) * layoutScale * self.height + center[1];\n        });\n      }\n\n      if (self.onLayoutEnd) self.onLayoutEnd();\n      return {\n        nodes: nodes,\n        edges: this.edges\n      };\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return \"random\";\n    }\n  }]);\n\n  return RandomLayout;\n}(Base);","map":{"version":3,"sources":["../../src/layout/random.ts"],"names":[],"mappings":";;;;;AAAA;;;AAGG;AAGH,SAAS,IAAT,QAAqB,QAArB;AAEA;;AAEG;;AACH,WAAa,YAAb;AAAA;;AAAA;;AAiBE,wBAAY,OAAZ,EAAyC;AAAA;;AAAA;;AACvC;AAjBF;;AACO,UAAA,MAAA,GAAqB,CAAC,CAAD,EAAI,CAAJ,CAArB;AAEP;;AACO,UAAA,KAAA,GAAgB,GAAhB;AAEP;;AACO,UAAA,MAAA,GAAiB,GAAjB;AAEA,UAAA,KAAA,GAAmB,EAAnB;AAEA,UAAA,KAAA,GAAgB,EAAhB;AAEP;;AACO,UAAA,WAAA,GAA0B,YAAK,CAAG,CAAlC;;AAIL,UAAK,SAAL,CAAe,OAAf;;AAFuC;AAGxC;;AApBH;AAAA;AAAA,WAsBS,yBAAa;AAClB,aAAO;AACL,QAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CADH;AAEL,QAAA,KAAK,EAAE,GAFF;AAGL,QAAA,MAAM,EAAE;AAHH,OAAP;AAKD;AAED;;AAEG;;AAhCL;AAAA;AAAA,WAiCS,mBAAO;AACZ,UAAM,IAAI,GAAG,IAAb;AACA,UAAM,KAAK,GAAG,IAAI,CAAC,KAAnB;AACA,UAAM,WAAW,GAAG,GAApB;AACA,UAAM,MAAM,GAAG,IAAI,CAAC,MAApB;;AACA,UAAI,CAAC,IAAI,CAAC,KAAN,IAAe,OAAO,MAAP,KAAkB,WAArC,EAAkD;AAChD,QAAA,IAAI,CAAC,KAAL,GAAa,MAAM,CAAC,UAApB;AACD;;AACD,UAAI,CAAC,IAAI,CAAC,MAAN,IAAgB,OAAO,MAAP,KAAkB,WAAtC,EAAmD;AACjD,QAAA,IAAI,CAAC,MAAL,GAAc,MAAM,CAAC,WAArB;AACD;;AAED,UAAI,KAAJ,EAAW;AACT,QAAA,KAAK,CAAC,OAAN,CAAc,UAAC,IAAD,EAAS;AACrB,UAAA,IAAI,CAAC,CAAL,GAAS,CAAC,IAAI,CAAC,MAAL,KAAgB,GAAjB,IAAwB,WAAxB,GAAsC,IAAI,CAAC,KAA3C,GAAmD,MAAM,CAAC,CAAD,CAAlE;AACA,UAAA,IAAI,CAAC,CAAL,GAAS,CAAC,IAAI,CAAC,MAAL,KAAgB,GAAjB,IAAwB,WAAxB,GAAsC,IAAI,CAAC,MAA3C,GAAoD,MAAM,CAAC,CAAD,CAAnE;AACD,SAHD;AAID;;AAED,UAAI,IAAI,CAAC,WAAT,EAAsB,IAAI,CAAC,WAAL;AAEtB,aAAO;AACL,QAAA,KAAK,EAAL,KADK;AAEL,QAAA,KAAK,EAAE,KAAK;AAFP,OAAP;AAID;AA1DH;AAAA;AAAA,WA4DS,mBAAO;AACZ,aAAO,QAAP;AACD;AA9DH;;AAAA;AAAA,EAAkC,IAAlC","sourceRoot":"","sourcesContent":["/**\n * @fileOverview random layout\n * @author shiwu.wyy@antfin.com\n */\nimport { Base } from \"./base\";\n/**\n * 随机布局\n */\nexport class RandomLayout extends Base {\n    constructor(options) {\n        super();\n        /** 布局中心 */\n        this.center = [0, 0];\n        /** 宽度 */\n        this.width = 300;\n        /** 高度 */\n        this.height = 300;\n        this.nodes = [];\n        this.edges = [];\n        /** 迭代结束的回调函数 */\n        this.onLayoutEnd = () => { };\n        this.updateCfg(options);\n    }\n    getDefaultCfg() {\n        return {\n            center: [0, 0],\n            width: 300,\n            height: 300\n        };\n    }\n    /**\n     * 执行布局\n     */\n    execute() {\n        const self = this;\n        const nodes = self.nodes;\n        const layoutScale = 0.9;\n        const center = self.center;\n        if (!self.width && typeof window !== \"undefined\") {\n            self.width = window.innerWidth;\n        }\n        if (!self.height && typeof window !== \"undefined\") {\n            self.height = window.innerHeight;\n        }\n        if (nodes) {\n            nodes.forEach((node) => {\n                node.x = (Math.random() - 0.5) * layoutScale * self.width + center[0];\n                node.y = (Math.random() - 0.5) * layoutScale * self.height + center[1];\n            });\n        }\n        if (self.onLayoutEnd)\n            self.onLayoutEnd();\n        return {\n            nodes,\n            edges: this.edges\n        };\n    }\n    getType() {\n        return \"random\";\n    }\n}\n//# sourceMappingURL=random.js.map"]},"metadata":{},"sourceType":"module"}