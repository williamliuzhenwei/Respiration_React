{"ast":null,"code":"import _objectSpread from\"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/liuzhenwei/Desktop/Respiration_React/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Button}from'antd';import{Line}from'@ant-design/charts';//try microphone example\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var data=[];var timer1=0;var entry={};var res={};// for (var i = 0; i < data.length; i++){\n// data[i].TimeStamp = data[i].TimeStamp - +1.726925E+04;\n// data[i].Resistance = parseFloat(data[i].Resistance, 10);\n// data[i].Resistance -= 700;\n// }\n// Toggle = new Toggle;\nvar config={data:data,xField:'TimeStamp',yField:'Rate',label:{style:{fill:'#aaa'}},// smooth: true,\n// autoFit: true,\n// yDim: {\n//   min: 700,\n//   max: 800\n// },\npoint:{size:1,shape:'dot'}};var fetchData=function fetchData(){return fetch(\"https://api.particle.io/v1/devices/2d004e000d51353532343635/analogvalue?access_token=4ec91795c48fcb469901a8c61e670f4d75ec5cce\").then(function(response){return response.json();}).then(function(data){return res=data;}).then(console.log(res));};var Plot=/*#__PURE__*/function(_React$Component){_inherits(Plot,_React$Component);var _super=_createSuper(Plot);function Plot(){var _this;_classCallCheck(this,Plot);_this=_super.call(this);_this.handleClick=function(){_this.setState(function(state){return{isToggleOn:!state.isToggleOn};});};_this.render=function(){if(_this.state.isToggleOn==true){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{id:\"toggle\",style:{textAlign:'center'},type:\"primary\",onClick:_this.handleClick,children:_this.state.isToggleOn?'ON':'OFF'}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Line,_objectSpread({},config)),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Respiration Rate\"})]});}else if(_this.state.isToggleOn==false){document.getElementById(\"resRate\").innerHTML=\"Disconnected\";// data = [];\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{id:\"toggle\",style:{textAlign:'center'},type:\"secondary\",onClick:_this.handleClick,children:_this.state.isToggleOn?'ON':'OFF'}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Line,_objectSpread({},config)),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Respiration Rate\"})]});}};_this.state={date:new Date(),isToggleOn:true};return _this;}_createClass(Plot,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.timerID=setInterval(function(){return _this2.tick();},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.timerID);}},{key:\"tick\",value:function tick(){fetchData();//res.result substiture \nvar rate=Math.floor(Math.random()*(17-8)+8);entry={TimeStamp:timer1,Rate:res.result};timer1=timer1+1;if(this.state.isToggleOn==true){data.push(entry);if(rate>14){document.getElementById(\"resRate\").innerHTML=res.result;document.getElementById(\"resRate\").className=\"resRate_black\";}else if(rate<=14&&rate>11){document.getElementById(\"resRate\").innerHTML=res.result;document.getElementById(\"resRate\").className=\"resRate_black\";}else if(rate<=11){document.getElementById(\"resRate\").innerHTML=res.result;document.getElementById(\"resRate\").className=\"resRate_black\";}else if(rate<=0||rate==\"undefined\"){document.getElementById(\"resRate\").innerHTML=\"Don't hold your breath!\";document.getElementById(\"resRate\").className=\"resRate_red\";}}else if(this.state.isToggleOn==false){timer1=timer1-1;entry={TimeStamp:timer1,Rate:0};data.push(entry);document.getElementById(\"resRate\").innerHTML=\"Disconnected\";}this.setState({date:new Date()});}}]);return Plot;}(React.Component);;export default Plot;","map":{"version":3,"sources":["/Users/liuzhenwei/Desktop/Respiration_React/my-app/src/Component/Plot.js"],"names":["React","Button","Line","data","timer1","entry","res","config","xField","yField","label","style","fill","point","size","shape","fetchData","fetch","then","response","json","console","log","Plot","handleClick","setState","state","isToggleOn","render","textAlign","document","getElementById","innerHTML","date","Date","timerID","setInterval","tick","clearInterval","rate","Math","floor","random","TimeStamp","Rate","result","push","className","Component"],"mappings":"4zBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,KAAqB,MAArB,CACA,OAASC,IAAT,KAAqB,oBAArB,CAIA;6IACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIC,CAAAA,MAAM,CAAG,CAAb,CACA,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIC,CAAAA,GAAG,CAAG,EAAV,CACA;AACI;AACA;AACA;AACJ;AACA;AAEA,GAAMC,CAAAA,MAAM,CAAG,CACbJ,IAAI,CAAJA,IADa,CAGbK,MAAM,CAAE,WAHK,CAIbC,MAAM,CAAE,MAJK,CAKbC,KAAK,CAAE,CACLC,KAAK,CAAE,CACLC,IAAI,CAAE,MADD,CADF,CALM,CAUb;AACA;AACA;AACA;AACA;AACA;AACAC,KAAK,CAAE,CACLC,IAAI,CAAE,CADD,CAELC,KAAK,CAAE,KAFF,CAhBM,CAAf,CAsBA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAEtB,MAAOC,CAAAA,KAAK,CAAC,+HAAD,CAAL,CACAC,IADA,CACK,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADL,EAEAF,IAFA,CAEK,SAACf,IAAD,QAAUG,CAAAA,GAAG,CAAGH,IAAhB,EAFL,EAGAe,IAHA,CAGKG,OAAO,CAACC,GAAR,CAAYhB,GAAZ,CAHL,CAAP,CAG+B,CALjC,C,GAOMiB,CAAAA,I,wGACJ,eAAc,sCACZ,wBADY,MAOhBC,WAPgB,CAOF,UAAM,CAClB,MAAKC,QAAL,CAAc,SAAAC,KAAK,QAAK,CACtBC,UAAU,CAAE,CAACD,KAAK,CAACC,UADG,CAAL,EAAnB,EAGD,CAXe,OAwDVC,MAxDU,CAwDD,UAAM,CACb,GAAI,MAAKF,KAAL,CAAWC,UAAX,EAAyB,IAA7B,CAAkC,CAChC,mBACA,wCACA,KAAC,MAAD,EAAQ,EAAE,CAAG,QAAb,CAAsB,KAAK,CAAG,CAACE,SAAS,CAAC,QAAX,CAA9B,CAAoD,IAAI,CAAG,SAA3D,CAAqE,OAAO,CAAE,MAAKL,WAAnF,UACS,MAAKE,KAAL,CAAWC,UAAX,CAAwB,IAAxB,CAA+B,KADxC,EADA,cAIA,aAJA,cAKA,KAAC,IAAD,kBAAUpB,MAAV,EALA,cAMA,aANA,cAOA,wCAPA,GADA,CAUD,CAXD,IAWO,IAAI,MAAKmB,KAAL,CAAWC,UAAX,EAAyB,KAA7B,CAAmC,CACxCG,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA+C,cAA/C,CACA;AACA,mBACA,wCAEA,KAAC,MAAD,EAAQ,EAAE,CAAG,QAAb,CAAsB,KAAK,CAAG,CAACH,SAAS,CAAC,QAAX,CAA9B,CAAoD,IAAI,CAAG,WAA3D,CAAuE,OAAO,CAAE,MAAKL,WAArF,UACS,MAAKE,KAAL,CAAWC,UAAX,CAAwB,IAAxB,CAA+B,KADxC,EAFA,cAKA,aALA,cAMA,KAAC,IAAD,kBAAUpB,MAAV,EANA,cAOA,aAPA,cAQA,wCARA,GADA,CAWD,CAEF,CApFS,CAEZ,MAAKmB,KAAL,CAAa,CACTO,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EADG,CAETP,UAAU,CAAE,IAFH,CAAb,CAFY,aAMf,C,kDAOD,4BAAoB,iBAChB,KAAKQ,OAAL,CAAeC,WAAW,CACtB,iBAAM,CAAA,MAAI,CAACC,IAAL,EAAN,EADsB,CAEtB,IAFsB,CAA1B,CAIH,C,oCAED,+BAAuB,CACnBC,aAAa,CAAC,KAAKH,OAAN,CAAb,CACH,C,oBAED,eAAO,CACHnB,SAAS,GACT;AACA,GAAIuB,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiB,GAAK,CAAtB,EAA2B,CAAtC,CAAX,CACArC,KAAK,CAAG,CAACsC,SAAS,CAAEvC,MAAZ,CAAoBwC,IAAI,CAAEtC,GAAG,CAACuC,MAA9B,CAAR,CACAzC,MAAM,CAAGA,MAAM,CAAG,CAAlB,CACF,GAAI,KAAKsB,KAAL,CAAWC,UAAX,EAAyB,IAA7B,CAAkC,CAChCxB,IAAI,CAAC2C,IAAL,CAAUzC,KAAV,EACA,GAAIkC,IAAI,CAAG,EAAX,CAAc,CACZT,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA+C1B,GAAG,CAACuC,MAAnD,CACAf,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCgB,SAAnC,CAA+C,eAA/C,CACD,CAHD,IAGO,IAAIR,IAAI,EAAI,EAAR,EAAcA,IAAI,CAAG,EAAzB,CAA4B,CACjCT,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA+C1B,GAAG,CAACuC,MAAnD,CACAf,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCgB,SAAnC,CAA+C,eAA/C,CACD,CAHM,IAGA,IAAIR,IAAI,EAAI,EAAZ,CAAe,CACpBT,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA+C1B,GAAG,CAACuC,MAAnD,CACAf,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCgB,SAAnC,CAA+C,eAA/C,CACD,CAHM,IAGA,IAAIR,IAAI,EAAI,CAAR,EAAaA,IAAI,EAAI,WAAzB,CAAqC,CAC1CT,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA+C,yBAA/C,CACAF,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCgB,SAAnC,CAA+C,aAA/C,CACD,CAEF,CAhBD,IAgBO,IAAI,KAAKrB,KAAL,CAAWC,UAAX,EAAyB,KAA7B,CAAoC,CACzCvB,MAAM,CAAGA,MAAM,CAAG,CAAlB,CACAC,KAAK,CAAG,CAACsC,SAAS,CAAEvC,MAAZ,CAAoBwC,IAAI,CAAE,CAA1B,CAAR,CACAzC,IAAI,CAAC2C,IAAL,CAAUzC,KAAV,EACAyB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,CAA+C,cAA/C,CACD,CACC,KAAKP,QAAL,CAAc,CACVQ,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EADI,CAAd,EAGH,C,kBAxDkBlC,KAAK,CAACgD,S,EAuFxB,CAID,cAAezB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport {Button} from 'antd';\nimport { Line } from '@ant-design/charts';\n\n\n\n//try microphone example\nvar data = [];\nvar timer1 = 0;\nvar entry = {};\nvar res = {};\n// for (var i = 0; i < data.length; i++){\n    // data[i].TimeStamp = data[i].TimeStamp - +1.726925E+04;\n    // data[i].Resistance = parseFloat(data[i].Resistance, 10);\n    // data[i].Resistance -= 700;\n// }\n// Toggle = new Toggle;\n\nconst config = {\n  data,\n\n  xField: 'TimeStamp',\n  yField: 'Rate',\n  label: {\n    style: {\n      fill: '#aaa',\n    },\n  },\n  // smooth: true,\n  // autoFit: true,\n  // yDim: {\n  //   min: 700,\n  //   max: 800\n  // },\n  point: {\n    size: 1,\n    shape: 'dot',\n  },\n};\n\nconst fetchData = () => {\n  \n  return fetch(\"https://api.particle.io/v1/devices/2d004e000d51353532343635/analogvalue?access_token=4ec91795c48fcb469901a8c61e670f4d75ec5cce\")\n        .then((response) => response.json())\n        .then((data) => res = data)\n        .then(console.log(res));}\n\nclass Plot extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n        date: new Date(),\n        isToggleOn: true\n    }\n}\nhandleClick = () => {\n  this.setState(state => ({\n    isToggleOn: !state.isToggleOn\n  }));\n}\n\ncomponentDidMount() {\n    this.timerID = setInterval(\n        () => this.tick(),\n        1000\n    );\n}\n\ncomponentWillUnmount() {\n    clearInterval(this.timerID);\n}\n\ntick() {\n    fetchData();\n    //res.result substiture \n    let rate = Math.floor(Math.random() * (17 - 8) + 8);\n    entry = {TimeStamp: timer1, Rate: res.result};\n    timer1 = timer1 + 1;\n  if (this.state.isToggleOn == true){\n    data.push(entry)\n    if (rate > 14){\n      document.getElementById(\"resRate\").innerHTML = res.result;\n      document.getElementById(\"resRate\").className = \"resRate_black\";\n    } else if (rate <= 14 && rate > 11){\n      document.getElementById(\"resRate\").innerHTML = res.result;\n      document.getElementById(\"resRate\").className = \"resRate_black\";\n    } else if (rate <= 11){\n      document.getElementById(\"resRate\").innerHTML = res.result;\n      document.getElementById(\"resRate\").className = \"resRate_black\";\n    } else if (rate <= 0 || rate == \"undefined\"){\n      document.getElementById(\"resRate\").innerHTML = \"Don't hold your breath!\";\n      document.getElementById(\"resRate\").className = \"resRate_red\";\n    } \n    \n  } else if (this.state.isToggleOn == false) {\n    timer1 = timer1 - 1;\n    entry = {TimeStamp: timer1, Rate: 0}\n    data.push(entry)\n    document.getElementById(\"resRate\").innerHTML = \"Disconnected\";\n  }\n    this.setState({\n        date: new Date()\n    })\n}\n      render = () => {\n        if (this.state.isToggleOn == true){\n          return (\n          <>\n          <Button id = \"toggle\" style= {{textAlign:'center'}} type = 'primary' onClick={this.handleClick}>\n                  {this.state.isToggleOn ? 'ON' : 'OFF'}\n          </Button>\n          <br></br>\n          <Line {...config} />\n          <br></br>\n          <h2>Respiration Rate</h2>\n          </>);\n        } else if (this.state.isToggleOn == false){\n          document.getElementById(\"resRate\").innerHTML = \"Disconnected\";\n          // data = [];\n          return (\n          <>\n          \n          <Button id = \"toggle\" style= {{textAlign:'center'}} type = 'secondary' onClick={this.handleClick}>\n                  {this.state.isToggleOn ? 'ON' : 'OFF'}\n          </Button> \n          <br></br>\n          <Line {...config} />\n          <br></br>\n          <h2>Respiration Rate</h2>\n          </>);\n        }\n        \n      }\n       \n};\n\n\n\nexport default Plot;"]},"metadata":{},"sourceType":"module"}